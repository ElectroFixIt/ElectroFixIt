<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Electro Fix It - Reparaci√≥n y Venta de Dispositivos</title>
  <link rel="icon" href="img/favicon.ico">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --primary-color:#007aff; --secondary-color:#ffffff;
      --background-overlay:rgba(0,0,0,.7); --accent-color:#a7d8ff;
      --text-color:#f0f0f0; --muted:#c9d1d9;
      --card:#0f1115; --border:rgba(255,255,255,.12); --radius:12px;
    }
    *,*::before,*::after{ box-sizing:border-box; margin:0; padding:0 }
    html{ scroll-behavior:smooth }
    body{ font-family:'Roboto',sans-serif; background:linear-gradient(135deg,#121212,#2a2a2a); color:var(--text-color); line-height:1.6; }

    header{ background:var(--background-overlay); padding:40px 20px; text-align:center; box-shadow:0 4px 6px rgba(0,0,0,.2); }
    header img{ width:300px; height:auto; margin-bottom:20px }
    #header-tagline1{ font-size:2rem; font-weight:700; margin-top:10px }

    nav{ position:sticky; top:0; z-index:100; background:rgba(0,0,0,.85); padding:10px 0; text-align:center; box-shadow:0 2px 4px rgba(0,0,0,.3); }
    nav a{ display:inline-block; margin:0 12px; padding:10px 18px; font-size:1.05rem; font-weight:700; text-decoration:none; color:var(--primary-color); background:rgba(0,0,0,.6); border-radius:8px; transition:.15s; }
    nav a:hover{ background:var(--primary-color); color:#fff; transform:translateY(-1px) }

    main{ padding:20px; max-width:1000px; margin:20px auto }
    section{ scroll-margin-top:140px; background:var(--background-overlay); padding:30px; margin-bottom:30px; border-radius:12px; box-shadow:0 4px 8px rgba(0,0,0,.2); }
    h2{ color:var(--primary-color); margin-bottom:15px; border-bottom:2px solid var(--primary-color); padding-bottom:6px; text-shadow:1px 1px 2px rgba(0,0,0,.8); }
    p, ul{ margin-bottom:14px } ul li{ margin-left:18px; margin-bottom:8px }

    .btn{ display:inline-block; background:var(--primary-color); color:#fff; padding:10px 20px; border-radius:8px; font-weight:700; text-decoration:none; transition:.2s; }
    .btn:hover{ background:var(--accent-color) }
    .btn.alt{ background:#2ecc71 } .btn.alt:hover{ filter:brightness(1.1) }

    footer{ background:var(--background-overlay); color:var(--primary-color); text-align:center; padding:20px 10px; margin-top:30px; }
    footer a{ color:var(--primary-color); font-weight:700; text-decoration:none }
    footer a:hover{ color:var(--accent-color) }
    footer img{ vertical-align:middle; width:20px; height:20px; margin-right:10px }

    .icon{ vertical-align:middle; width:20px; height:20px; margin-right:6px }
    .inline-chip{ display:inline-flex; align-items:center; gap:6px; margin-right:12px; vertical-align:middle; }

    /* MODALES (compartido) */
    .modal{ display:none; position:fixed; inset:0; background:rgba(0,0,0,.9); z-index:1200; padding:24px; overflow:auto }
    .modal[aria-hidden="false"]{ display:block }
    .modal-inner{ max-width:1100px; margin:0 auto; background:rgba(0,0,0,.6); border:1px solid var(--border); border-radius:14px; padding:20px; box-shadow:0 10px 30px rgba(0,0,0,.5); }
    .modal-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px }
    .modal-title{ font-size:1.4rem; font-weight:800 }
    .modal-close{ background:transparent; border:1px solid var(--border); color:#fff; border-radius:10px; padding:8px 12px; cursor:pointer }
    .modal-tools{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin:8px 0 14px }

    .modal-search{ flex:1 1 220px; background:rgba(255,255,255,.06); border:1px solid var(--border); color:#fff; padding:10px 12px; border-radius:10px; outline:none; }
    .filters{ display:flex; flex-wrap:wrap; gap:8px; }
    .filter-btn{ background:rgba(255,255,255,.06); color:#fff; border:1px solid var(--border); padding:8px 12px; border-radius:999px; font-weight:700; cursor:pointer; transition:.15s; }
    .filter-btn.active, .filter-btn:hover{ background:var(--primary-color); border-color:var(--primary-color) }

    .grid{ display:grid; gap:14px; grid-template-columns:repeat(3,1fr) }
    .card{ background:var(--card); border:1px solid var(--border); border-radius:var(--radius); overflow:hidden }
    .card .media{
      background:#fff; aspect-ratio:4/3; display:flex; align-items:center; justify-content:center; overflow:hidden;
    }
    .card .media img{ width:100%; height:100%; object-fit:contain; background:#fff; }
    .card .body{ padding:12px 14px }
    .card .title{ font-weight:800; margin-bottom:6px }
    .card .desc{ color:var(--muted); font-size:.95rem; margin-bottom:8px }
    .card .price{ font-weight:800 }
    .card .cta{ margin-top:10px; display:inline-block; font-size:.95rem }

    @media (max-width:980px){ .grid{ grid-template-columns:repeat(2,1fr) } }
    @media (max-width:640px){ .grid{ grid-template-columns:1fr } }

    /* Rese√±as: solo iconos clicables */
    .review-logos{ display:flex; gap:24px; justify-content:flex-start; align-items:center; flex-wrap:wrap; margin-top:12px; }
    .review-logos a{ display:inline-flex; align-items:center; justify-content:center; width:86px; height:86px; border-radius:16px; background:#ffffff; border:1px solid var(--border); transition:transform .15s ease, box-shadow .15s ease; }
    .review-logos a:hover{ transform:translateY(-2px); box-shadow:0 6px 16px rgba(0,0,0,.35) }
    .review-logos img{ max-width:75%; max-height:75%; object-fit:contain }
    .review-logos a.wallapop img{ max-width:96%; max-height:96% }
    .review-logos a.milanuncios img{ max-width:96%; max-height:96% }

    /* --- Estilos modal reparaciones --- */
    .select{ background:rgba(255,255,255,.06); border:1px solid var(--border); color:#fff; padding:10px 12px; border-radius:10px; min-width:220px; }
    .repairs-list{ display:grid; gap:12px; grid-template-columns:repeat(2,1fr) }
    .repair{ background:var(--card); border:1px solid var(--border); border-radius:12px; padding:12px 14px; display:flex; flex-direction:column; gap:8px }
    .repair h4{ margin:0; font-size:1rem }
    .repair .row{ display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap }
    .pill{ padding:4px 10px; border-radius:999px; background:rgba(255,255,255,.08); border:1px solid var(--border); font-weight:700 }
    @media (max-width:800px){ .repairs-list{ grid-template-columns:1fr } }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <img src="img/Photoroom_20250126_215254.PNG" alt="Logo de Electro Fix It">
    <p id="header-tagline1">‚ö° Reparaci√≥n, venta y confianza al mejor precio ‚ö°</p>
  </header>

  <!-- Nav -->
  <nav>
    <a href="#quienes-somos">Qui√©nes Somos</a>
    <a href="#services">Servicios</a>
    <a href="#products">Dispositivos electr√≥nicos</a>
    <a href="#" id="nav-accessories">Accesorios</a>
    <a href="#trabajos">Nuestros Trabajos</a>
    <a href="#testimonios">Testimonios</a>
    <a href="#rese√±as">Rese√±as</a>
  </nav>

  <!-- Main -->
  <main>
    <section id="quienes-somos">
      <h2>Qui√©nes Somos</h2>
      <p>üôå Bienvenido a <strong>Electro Fix It</strong>, tu taller de confianza en <strong>Charco del Pino (Granadilla de Abona)</strong>.</p>
      <ul>
        <li>üîß Expertos en <strong>reparaci√≥n de m√≥viles, tablets y dispositivos electr√≥nicos</strong>.</li>
        <li>‚úÖ M√°s de <strong>1.000</strong> clientes satisfechos en toda Canarias.</li>
        <li>üõí Venta de <strong>dispositivos</strong> probados y <strong>con garant√≠a</strong>.</li>
        <li>üöõ Transporte y <strong>env√≠os a toda Canarias</strong>.</li>
        <li>‚è∞ Horario: <strong>8:30 ‚Äì 21:30</strong>, atenci√≥n por cita.</li>
        <li>üí¨ Contacto directo por <strong>WhatsApp</strong> e <strong>Instagram</strong>.</li>
      </ul>
      <p>üåü Transparencia, precios justos y trato cercano. Tu tranquilidad es nuestra prioridad.</p>
      <p>
        <span class="inline-chip"><img class="icon" src="img/whatsapp_icon.png" alt="WhatsApp"><a href="https://wa.me/34642886426" target="_blank" class="btn">Escribir por WhatsApp</a></span>
        <span class="inline-chip"><img class="icon" src="img/Instagram_logo_2022.svg.webp" alt="Instagram"><a href="https://www.instagram.com/electro_fix_it/" target="_blank" class="btn" style="background:#E1306C">Instagram</a></span>
      </p>
    </section>

    <section id="services">
      <h2>Servicios</h2>
      <p>Reparaci√≥n de pantallas, bater√≠as, c√°maras, conectores y m√°s. Servicio r√°pido, precios claros y con garant√≠a.</p>
      <div style="display:flex; gap:10px; flex-wrap:wrap">
        <a href="#" class="btn" id="openRepairs">Ver precios iPhone</a>
        <a href="https://wa.me/34642886426?text=Hola%20Electro%20Fix%20It%2C%20tengo%20un%20Android%20u%20otro%20dispositivo%20y%20quiero%20presupuesto." target="_blank" class="btn alt">Android u otro ‚Äî WhatsApp</a>
      </div>
    </section>

    <section id="products">
      <h2>Dispositivos electr√≥nicos</h2>
      <p>Encuentra m√≥viles y otros dispositivos revisados con garant√≠a. Pregunta por disponibilidad.</p>
      <a href="https://www.wallapop.com/user/diegot-393029070?_pid=wi&_uid=393029070" target="_blank" class="btn">Ver cat√°logo</a>
    </section>

    <section id="accessories">
      <h2>Accesorios</h2>
      <p>Complementa tu dispositivo con nuestros accesorios: fundas, cargadores, bater√≠as, cables y m√°s.</p>
      <a href="#" class="btn" id="section-accessories-btn">Ver lista de Accesorios</a>
    </section>

    <section id="trabajos">
      <h2>Nuestros Trabajos</h2>
      <p>Visita nuestro Instagram para ver reparaciones en v√≠deo.</p>
      <a href="https://www.instagram.com/reel/DGEewjuoofu/?hl=es" target="_blank" class="btn">Ver en Instagram</a>
    </section>

    <section id="testimonios">
      <h2>Testimonios</h2>
      <p>Las experiencias de nuestros clientes hablan por s√≠ mismas.</p>
      <a href="https://www.instagram.com/stories/highlights/17989038299202294/?hl=es" target="_blank" class="btn">Ver testimonios</a>
    </section>

    <section id="rese√±as">
      <h2>Rese√±as</h2>
      <p>¬øD√≥nde quieres dejar tu opini√≥n o leer lo que dicen de nosotros?</p>
      <div class="review-logos">
        <a href="https://www.google.com/search?q=Electro+Fix+IT+rese%C3%B1as" target="_blank" aria-label="Rese√±as en Google"><img src="img/google_icon.png" alt="Google"></a>
        <a href="https://es.wallapop.com/app/profile/reviews" target="_blank" aria-label="Rese√±as en Wallapop" class="wallapop"><img src="img/wallapop_icon.png" alt="Wallapop"></a>
        <a href="https://www.milanuncios.com/valoraciones-usuario/electro-fix-it-74694909.htm" target="_blank" aria-label="Rese√±as en Milanuncios" class="milanuncios"><img src="img/milanuncios_icon.png" alt="Milanuncios"></a>
      </div>
    </section>
  </main>

  <footer>
    <p><img src="img/Instagram_logo_2022.svg.webp" alt="Logo Instagram"><a href="https://www.instagram.com/electro_fix_it/" target="_blank">@electro_fix_it</a></p>
    <p>¬© 2024 Electro Fix It. Todos los derechos reservados.</p>
  </footer>

  <!-- MODAL: Accesorios -->
  <div class="modal" id="accessoriesModal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="accTitle">
    <div class="modal-inner">
      <div class="modal-header">
        <div class="modal-title" id="accTitle">Accesorios ‚Äì Lista completa</div>
        <button class="modal-close" id="closeAcc" aria-label="Cerrar">Cerrar ‚úï</button>
      </div>

      <div class="modal-tools">
        <input type="search" id="accSearch" class="modal-search" placeholder="Buscar accesorio...">
        <div class="filters" id="filters">
          <button class="filter-btn active" data-filter="all">Todos</button>
          <button class="filter-btn" data-filter="fundas">Fundas</button>
          <button class="filter-btn" data-filter="protectores">Protectores de pantalla</button>
          <button class="filter-btn" data-filter="cables">Cables</button>
          <button class="filter-btn" data-filter="cargadores">Cargadores</button>
          <button class="filter-btn" data-filter="baterias">Bater√≠as</button>
          <button class="filter-btn" data-filter="soportes">Soportes</button>
        </div>
      </div>

      <div class="grid" id="accCards">
        <!-- FUNDAS -->
        <article class="card" data-cat="fundas">
          <div class="media"><img src="img/fundas_colores.jpg" alt="Fundas originales de colores"></div>
          <div class="body"><div class="title">Fundas originales (colores)</div><div class="desc">Acabado premium y protecci√≥n elegante.</div><div class="price">10 ‚Ç¨</div>
            <a class="cta btn" target="_blank" href="https://wa.me/34642886426?text=Quiero%20Fundas%20originales%20de%20colores%20(10%E2%82%AC)">Pedir por WhatsApp</a></div>
        </article>
        <article class="card" data-cat="fundas">
          <div class="media"><img src="img/Carcasa_transparente.jpg" alt="Carcasa transparente MagSafe"></div>
          <div class="body"><div class="title">Carcasa transparente MagSafe</div><div class="desc">Funda transparente con anillo magn√©tico.</div><div class="price">5 ‚Ç¨</div>
            <a class="cta btn" target="_blank" href="https://wa.me/34642886426?text=Quiero%20Carcasa%20MagSafe%20(5%E2%82%AC)">Pedir por WhatsApp</a></div>
        </article>

        <!-- PROTECTORES -->
        <article class="card" data-cat="protectores">
          <div class="media"><img src="img/protector_pantalla.jpg" alt="Protector de pantalla"></div>
          <div class="body"><div class="title">Protector de pantalla</div><div class="desc">Protecci√≥n b√°sica.</div><div class="price">4 ‚Ç¨</div>
            <a class="cta btn" target="_blank" href="https://wa.me/34642886426?text=Quiero%20Protector%20de%20pantalla%20(4%E2%82%AC)">Pedir por WhatsApp</a></div>
        </article>
        <article class="card" data-cat="protectores">
          <div class="media"><img src="img/protector_antiespia.jpg" alt="Protector de pantalla anti-esp√≠a"></div>
          <div class="body"><div class="title">Protector anti-esp√≠a</div><div class="desc">Privacidad lateral: solo t√∫ ves la pantalla de frente.</div><div class="price">7 ‚Ç¨</div>
            <a class="cta btn" target="_blank" href="https://wa.me/34642886426?text=Quiero%20Protector%20anti-esp%C3%ADa%20(7%E2%82%AC)">Pedir por WhatsApp</a></div>
        </article>
        <article class="card" data-cat="protectores">
          <div class="media"><img src="img/protector_instalacion.jpg" alt="Instalaci√≥n de protector de pantalla"></div>
          <div class="body"><div class="title">Instalaci√≥n de protector de pantalla</div><div class="desc">Colocaci√≥n precisa con gu√≠a y limpieza previa. (Solo mano de obra, sin protector incluido).</div><div class="price">2 ‚Ç¨</div>
            <a class="cta btn" target="_blank" href="https://wa.me/34642886426?text=Quiero%20la%20Instalaci%C3%B3n%20del%20protector%20de%20pantalla%20(2%E2%82%AC)">Pedir por WhatsApp</a></div>
        </article>

        <!-- CABLES -->
        <article class="card" data-cat="cables">
          <div class="media"><img src="img/cable_tipo_c_lightning.jpg" alt="Cable Lightning a USB/Tipo C"></div>
          <div class="body"><div class="title">Cable Lightning a USB/Tipo C</div><div class="desc">Cable de datos y carga para iPhone.</div><div class="price">4,50 ‚Ç¨</div>
            <a class="cta btn" target="_blank" href="https://wa.me/34642886426?text=Quiero%20Cable%20Lightning%20a%20USB/Tipo%20C%20(4%2C50%E2%82%AC)">Pedir por WhatsApp</a></div>
        </article>
        <article class="card" data-cat="cables">
          <div class="media"><img src="img/cargador_watch.jpg" alt="Cargador Apple Watch / SmartWatch"></div>
          <div class="body"><div class="title">Cargador Apple Watch / SmartWatch</div><div class="desc">Base magn√©tica para relojes inteligentes.</div><div class="price">10 ‚Ç¨</div>
            <a class="cta btn" target="_blank" href="https://wa.me/34642886426?text=Quiero%20Cargador%20Apple%20Watch/SmartWatch%20(10%E2%82%AC)">Pedir por WhatsApp</a></div>
        </article>

        <!-- CARGADORES -->
        <article class="card" data-cat="cargadores">
          <div class="media"><img src="img/cargador_65w.jpg" alt="Cargador gen√©rico 65W"></div>
          <div class="body"><div class="title">Cargador gen√©rico 65W</div><div class="desc">Compatible con varios dispositivos.</div><div class="price">10 ‚Ç¨</div>
            <a class="cta btn" target="_blank" href="https://wa.me/34642886426?text=Quiero%20Cargador%2065W%20(10%E2%82%AC)">Pedir por WhatsApp</a></div>
        </article>
        <article class="card" data-cat="cargadores">
          <div class="media"><img src="img/set_3en1.jpg" alt="Set de carga 3 en 1"></div>
          <div class="body"><div class="title">Set de carga 3 en 1</div><div class="desc">M√≥vil + AirPods + Apple Watch.</div><div class="price">20 ‚Ç¨</div>
            <a class="cta btn" target="_blank" href="https://wa.me/34642886426?text=Quiero%20Set%203%20en%201%20(20%E2%82%AC)">Pedir por WhatsApp</a></div>
        </article>
        <article class="card" data-cat="cargadores">
          <div class="media"><img src="img/cargador_watch.jpg" alt="Cargador Apple Watch / SmartWatch"></div>
          <div class="body"><div class="title">Cargador Apple Watch / SmartWatch</div><div class="desc">Base magn√©tica para relojes inteligentes.</div><div class="price">10 ‚Ç¨</div>
            <a class="cta btn" target="_blank" href="https://wa.me/34642886426?text=Quiero%20Cargador%20Apple%20Watch/SmartWatch%20(10%E2%82%AC)">Pedir por WhatsApp</a></div>
        </article>

        <!-- BATER√çAS -->
        <article class="card" data-cat="baterias">
          <div class="media"><img src="img/bateria_magsafe.jpg" alt="Bater√≠a MagSafe 5000 mAh"></div>
          <div class="body"><div class="title">Bater√≠a MagSafe 5.000 mAh</div><div class="desc">Power bank magn√©tico, carga inal√°mbrica 15W.</div><div class="price">30 ‚Ç¨</div>
            <a class="cta btn" target="_blank" href="https://wa.me/34642886426?text=Quiero%20Bater%C3%ADa%20MagSafe%205000mAh%20(30%E2%82%AC)">Pedir por WhatsApp</a></div>
        </article>
        <article class="card" data-cat="baterias">
          <div class="media"><img src="img/bateria_magsafe.jpg" alt="Bater√≠a MagSafe 10000 mAh"></div>
          <div class="body"><div class="title">Bater√≠a MagSafe 10.000 mAh</div><div class="desc">Mayor capacidad para viajes.</div><div class="price">40 ‚Ç¨</div>
            <a class="cta btn" target="_blank" href="https://wa.me/34642886426?text=Quiero%20Bater%C3%ADa%20MagSafe%2010000mAh%20(40%E2%82%AC)">Pedir por WhatsApp</a></div>
        </article>

        <!-- SOPORTES -->
        <article class="card" data-cat="soportes">
          <div class="media"><img src="img/soporte_ventosas.jpg" alt="Soporte con ventosas"></div>
          <div class="body"><div class="title">Soporte con ventosas</div><div class="desc">Antirrobo; se adhiere a superficies.</div><div class="price">2,50 ‚Ç¨</div>
            <a class="cta btn" target="_blank" href="https://wa.me/34642886426?text=Quiero%20Soporte%20con%20ventosas%20(2%2C50%E2%82%AC)">Pedir por WhatsApp</a></div>
        </article>
      </div>
    </div>
  </div>

  <!-- MODAL: Reparaciones iPhone -->
  <div class="modal" id="repairsModal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="repTitle">
    <div class="modal-inner">
      <div class="modal-header">
        <div class="modal-title" id="repTitle">Presupuestos de reparaci√≥n ‚Äì iPhone</div>
        <button class="modal-close" id="closeRepairs" aria-label="Cerrar">Cerrar ‚úï</button>
      </div>

      <div class="modal-tools">
        <select id="modelSelect" class="select" aria-label="Modelo de iPhone"></select>
        <a id="genericWA" class="btn alt" target="_blank"
           href="https://wa.me/34642886426?text=Hola%20Electro%20Fix%20It%2C%20quiero%20presupuesto%20para%20mi%20iPhone.">
           No encuentro mi reparaci√≥n ‚Äî WhatsApp
        </a>
      </div>

      <div id="repairsContainer" class="repairs-list" aria-live="polite"></div>
    </div>
  </div>

  <script>
    // Helpers
    const $ = (q,ctx=document)=>ctx.querySelector(q);
    const $$ = (q,ctx=document)=>Array.from(ctx.querySelectorAll(q));

    /* -------------------- MODAL ACCESORIOS -------------------- */
    const accModal = $('#accessoriesModal');
    const openAccBtns = [$('#nav-accessories'), $('#section-accessories-btn')];
    const closeAccBtn = $('#closeAcc');
    const accSearch = $('#accSearch');
    const accCards = $('#accCards');

    function openModal(m){ m.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; document.addEventListener('keydown', escClose); }
    function closeModal(m){ m.setAttribute('aria-hidden','true'); document.body.style.overflow=''; document.removeEventListener('keydown', escClose); }
    function escClose(e){ if(e.key==='Escape'){ closeModal(accModal); closeModal(repairsModal); } }

    openAccBtns.forEach(btn=>{ if(btn){ btn.addEventListener('click', e=>{ e.preventDefault(); openModal(accModal); accSearch.value=''; filterCards(''); setTimeout(()=>accSearch.focus(),0); }); }});
    closeAccBtn.addEventListener('click', ()=>closeModal(accModal));
    accModal.addEventListener('click', e=>{ if(e.target===accModal) closeModal(accModal); });

    function filterCards(q){
      const query = q.toLowerCase();
      $$('.card', accCards).forEach(card=>{
        const text = card.innerText.toLowerCase();
        card.style.display = text.includes(query) ? '' : 'none';
      });
    }
    accSearch.addEventListener('input', e=>filterCards(e.target.value));

    const filters = $('#filters');
    const filterBtns = $$('.filter-btn', filters);
    filters.addEventListener('click', e=>{
      const btn = e.target.closest('.filter-btn'); if(!btn) return;
      const cat = btn.dataset.filter;
      filterBtns.forEach(b=>b.classList.toggle('active', b===btn));
      $$('.card', accCards).forEach(card=>{
        const c = card.getAttribute('data-cat');
        card.style.display = (cat==='all' || c===cat) ? '' : 'none';
      });
      accSearch.value='';
    });

    /* -------------------- MODAL REPARACIONES (SERVICIOS) -------------------- */
    const repairsModal = $('#repairsModal');
    const openRepairsBtn = $('#openRepairs');
    const closeRepairsBtn = $('#closeRepairs');
    const modelSelect = $('#modelSelect');
    const repairsContainer = $('#repairsContainer');

    openRepairsBtn.addEventListener('click', e=>{ e.preventDefault(); openModal(repairsModal); modelSelect.focus(); });
    closeRepairsBtn.addEventListener('click', ()=>closeModal(repairsModal));
    repairsModal.addEventListener('click', e=>{ if(e.target===repairsModal) closeModal(repairsModal); });

    // Datos de precios (modelo => lista de reparaciones)
    const PRICE = (v)=> typeof v==='number' ? `${v} ‚Ç¨` : v;
    const iphones = {
      "iPhone 11": [
        ["Pantalla (InCell)",69],["Bater√≠a",59],["C√°mara trasera",59],["C√°mara frontal",49],
        ["Cristal c√°mara trasera",39],["Puerto de carga (reemplazo)",59],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",59],["Botones",59],["Vibrador",39],["Altavoces (reemplazo)",69],
        ["Altavoces (limpieza)",19],["Cubierta trasera",79],["Chasis completo",99],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 11 Pro": [
        ["Pantalla (InCell)",69],["Pantalla (Soft OLED)",105],["Bater√≠a",59],["C√°mara trasera",89],["C√°mara frontal",59],
        ["Cristal c√°mara trasera",59],["Puerto de carga (reemplazo)",69],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",69],["Botones",69],["Vibrador",44],["Altavoces (reemplazo)",69],
        ["Altavoces (limpieza)",19],["Cubierta trasera",99],["Chasis completo",139],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 11 Pro Max": [
        ["Pantalla (InCell)",89],["Pantalla (JK Soft OLED)",115],["Bater√≠a",59],["C√°mara trasera",89],["C√°mara frontal",49],
        ["Cristal c√°mara trasera",59],["Puerto de carga (reemplazo)",69],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",69],["Botones",69],["Vibrador",44],["Altavoces (reemplazo)",69],
        ["Altavoces (limpieza)",19],["Cubierta trasera",109],["Chasis completo",149],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 12": [
        ["Pantalla (InCell)",79],["Pantalla (Soft OLED)",139],["Bater√≠a",59],["C√°mara trasera",89],["C√°mara frontal",59],
        ["Cristal c√°mara trasera",59],["Puerto de carga (reemplazo)",79],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",79],["Vibrador",49],["Altavoces (reemplazo)",69],
        ["Altavoces (limpieza)",19],["Cubierta trasera",104],["Chasis completo",134],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 12 Pro": [
        ["Pantalla (InCell)",79],["Pantalla (Soft OLED)",139],["Bater√≠a",59],["C√°mara trasera",109],["C√°mara frontal",59],
        ["Cristal c√°mara trasera",59],["Puerto de carga (reemplazo)",79],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",79],["Vibrador",49],["Altavoces (reemplazo)",69],
        ["Altavoces (limpieza)",19],["Cubierta trasera",114],["Chasis completo",149],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 12 Pro Max": [
        ["Pantalla (InCell)",84],["Pantalla (Soft OLED)",144],["Bater√≠a",59],["C√°mara trasera",109],["C√°mara frontal",59],
        ["Cristal c√°mara trasera",59],["Puerto de carga (reemplazo)",79],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",79],["Vibrador",49],["Altavoces (reemplazo)",69],
        ["Altavoces (limpieza)",19],["Cubierta trasera",124],["Chasis completo",159],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 13": [
        ["Pantalla (InCell)",84],["Pantalla (Soft OLED)",144],["Bater√≠a",69],["C√°mara trasera",109],["C√°mara frontal",69],
        ["Cristal c√°mara trasera",59],["Puerto de carga (reemplazo)",79],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",79],["Vibrador",49],["Altavoces (reemplazo)",69],
        ["Altavoces (limpieza)",19],["Cubierta trasera",104],["Chasis completo",134],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 13 Pro": [
        ["Pantalla (InCell)",94],["Pantalla (Soft OLED)",154],["Bater√≠a",79],["C√°mara trasera",129],["C√°mara frontal",79],
        ["Cristal c√°mara trasera",59],["Puerto de carga (reemplazo)",79],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",79],["Vibrador",49],["Altavoces (reemplazo)",69],
        ["Altavoces (limpieza)",19],["Cubierta trasera",114],["Chasis completo",149],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 13 Pro Max": [
        ["Pantalla (InCell)",99],["Pantalla (Soft OLED)",159],["Bater√≠a",79],["C√°mara trasera",129],["C√°mara frontal",79],
        ["Cristal c√°mara trasera",59],["Puerto de carga (reemplazo)",79],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",79],["Vibrador",49],["Altavoces (reemplazo)",69],
        ["Altavoces (limpieza)",19],["Cubierta trasera",114],["Chasis completo",149],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 14": [
        ["Pantalla (InCell)",84],["Pantalla (Soft OLED)",144],["Bater√≠a",69],["C√°mara trasera",99],["C√°mara frontal",69],
        ["Cristal c√°mara trasera",69],["Puerto de carga (reemplazo)",84],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",84],["Vibrador",59],["Altavoces (reemplazo)",79],
        ["Altavoces (limpieza)",19],["Cubierta trasera",69],["Chasis completo",149],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 14 Plus": [
        ["Pantalla (InCell)",84],["Pantalla (Soft OLED)",149],["Bater√≠a",69],["C√°mara trasera",99],["C√°mara frontal",69],
        ["Cristal c√°mara trasera",59],["Puerto de carga (reemplazo)",79],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",79],["Vibrador",49],["Altavoces (reemplazo)",69],
        ["Altavoces (limpieza)",19],["Cubierta trasera",74],["Chasis completo",154],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 14 Pro": [
        ["Pantalla (InCell)",109],["Pantalla (Soft OLED)",189],["Bater√≠a",79],["C√°mara trasera",129],["C√°mara frontal",79],
        ["Cristal c√°mara trasera",69],["Puerto de carga (reemplazo)",84],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",84],["Vibrador",59],["Altavoces (reemplazo)",79],
        ["Altavoces (limpieza)",19],["Cubierta trasera",119],["Chasis completo",164],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 14 Pro Max": [
        ["Pantalla (InCell)",114],["Pantalla (Soft OLED)",239],["Bater√≠a",79],["C√°mara trasera",129],["C√°mara frontal",79],
        ["Cristal c√°mara trasera",69],["Puerto de carga (reemplazo)",84],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",84],["Vibrador",59],["Altavoces (reemplazo)",79],
        ["Altavoces (limpieza)",19],["Cubierta trasera",119],["Chasis completo",164],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 15": [
        ["Pantalla (InCell)",89],["Pantalla (Soft OLED)",169],["Bater√≠a",79],["C√°mara trasera",99],["C√°mara frontal",69],
        ["Cristal c√°mara trasera",59],["Puerto de carga (reemplazo)",79],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",79],["Vibrador",49],["Altavoces (reemplazo)",69],
        ["Altavoces (limpieza)",19],["Cubierta trasera",84],["Chasis completo",159],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 15 Plus": [
        ["Pantalla (InCell)",94],["Pantalla (Soft OLED)",194],["Bater√≠a",79],["C√°mara trasera",104],["C√°mara frontal",69],
        ["Cristal c√°mara trasera",59],["Puerto de carga (reemplazo)",79],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",79],["Vibrador",49],["Altavoces (reemplazo)",69],
        ["Altavoces (limpieza)",19],["Cubierta trasera",84],["Chasis completo",164],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 15 Pro": [
        ["Pantalla (InCell)",109],["Pantalla (Soft OLED)",239],["Bater√≠a",84],["C√°mara trasera",149],["C√°mara frontal",79],
        ["Cristal c√°mara trasera",59],["Puerto de carga (reemplazo)",79],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",79],["Vibrador",49],["Altavoces (reemplazo)",69],
        ["Altavoces (limpieza)",19],["Cubierta trasera",84],["Chasis completo",169],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ],
      "iPhone 15 Pro Max": [
        ["Pantalla (InCell)",119],["Pantalla (Soft OLED)",249],["Pantalla (Original)",319],["Bater√≠a",84],["C√°mara trasera",149],
        ["C√°mara frontal",89],["Cristal c√°mara trasera",59],["Puerto de carga (reemplazo)",79],["Puerto de carga (limpieza)",19],
        ["Carga inal√°mbrica / NFC",89],["Botones",79],["Vibrador",49],["Altavoces (reemplazo)",69],["Altavoces (limpieza)",19],
        ["Cubierta trasera",84],["Chasis completo",179],["Da√±os por l√≠quidos","Presupuesto tras revisi√≥n"]
      ]
    };

    // Rellena selector
    Object.keys(iphones).forEach((m,i)=>{
      const opt=document.createElement('option'); opt.value=m; opt.textContent=m; if(i===0) opt.selected=true; modelSelect.appendChild(opt);
    });

    function renderRepairs(model){
      repairsContainer.innerHTML='';
      iphones[model].forEach(([name, price])=>{
        const isNumber = typeof price==='number';
        const priceText = PRICE(price);
        const wrap=document.createElement('div'); wrap.className='repair';
        wrap.innerHTML = `
          <div class="row">
            <h4>${name}</h4>
            <span class="pill">${priceText}</span>
          </div>
          <div class="row">
            <a class="btn" target="_blank"
               href="${makeWA(model,name,priceText)}">Pedir por WhatsApp</a>
          </div>
        `;
        repairsContainer.appendChild(wrap);
      });
    }
    function makeWA(model, repair, priceText){
      const msg = `Hola Electro Fix It, quiero reparar mi ${model}: ${repair} ‚Äî ${priceText}.`;
      return `https://wa.me/34642886426?text=${encodeURIComponent(msg)}`;
    }
    modelSelect.addEventListener('change', e=>renderRepairs(e.target.value));
    renderRepairs(modelSelect.value);
  </script>
</body>
</html>
